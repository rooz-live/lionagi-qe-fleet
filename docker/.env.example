# Docker Compose Environment Configuration
# Copy this file to .env and update values for your environment

# ============================================================================
# PostgreSQL Configuration
# ============================================================================

# Database name for Q-Learning and test artifacts
POSTGRES_DB=lionagi_qe_learning

# Database user with full permissions
POSTGRES_USER=qe_agent

# Strong password for database user - CHANGE THIS IN PRODUCTION
# Requirements: min 12 chars, mix of upper/lower/numbers/special chars
POSTGRES_PASSWORD=qe_secure_password_123

# Port to expose PostgreSQL on host machine
POSTGRES_PORT=5432

# PostgreSQL initialization parameters
# Adjust shared_buffers and max_connections based on your environment
# See: https://wiki.postgresql.org/wiki/Performance_Optimization
# Examples:
#   Development: shared_buffers=256MB, max_connections=200
#   Production: shared_buffers=1GB, max_connections=500
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_MAX_CONNECTIONS=200

# ============================================================================
# pgAdmin 4 Configuration
# ============================================================================

# Default email for pgAdmin login
PGADMIN_EMAIL=admin@lionagi.dev

# Strong password for pgAdmin - CHANGE THIS IN PRODUCTION
PGADMIN_PASSWORD=admin_secure_123

# Port to expose pgAdmin web interface on host machine
PGADMIN_PORT=5050

# ============================================================================
# Redis Configuration (Optional - enable with: docker-compose --profile with-redis up)
# ============================================================================

# Redis password for authentication
REDIS_PASSWORD=redis_secure_password_123

# Port to expose Redis on host machine
REDIS_PORT=6379

# ============================================================================
# Environment Selection
# ============================================================================

# Valid values: development, testing, production
ENVIRONMENT=development

# ============================================================================
# Q-Learning Configuration
# ============================================================================

# Enable Q-Learning in the fleet
ENABLE_LEARNING=true

# Database connection timeout (seconds)
DB_CONNECTION_TIMEOUT=30

# Connection pool size for database
DB_POOL_SIZE=10

# Maximum overflow connections beyond pool size
DB_POOL_MAX_OVERFLOW=20

# Connection recycle time (seconds) - prevents stale connections
DB_POOL_RECYCLE=3600

# ============================================================================
# Testing Configuration
# ============================================================================

# Test framework to use
TEST_FRAMEWORK=pytest

# Run tests in parallel
TEST_PARALLEL=true

# Code coverage threshold (%)
TEST_COVERAGE_THRESHOLD=80

# ============================================================================
# Logging Configuration
# ============================================================================

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: simple, json
LOG_FORMAT=json

# ============================================================================
# Fleet Configuration
# ============================================================================

# Enable multi-model routing for cost optimization
ENABLE_ROUTING=true

# Default model to use (can be overridden by routing)
ROUTER_DEFAULT_MODEL=gpt-4o-mini

# Enable complexity analysis for model selection
ROUTER_ANALYZE_COMPLEXITY=true

# ============================================================================
# API Keys (Required for agents to function)
# ============================================================================

# OpenAI API Key - REQUIRED for most agents
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic API Key - OPTIONAL, enables Claude models
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ============================================================================
# Memory Configuration
# ============================================================================

# Default TTL for memory entries (seconds)
MEMORY_TTL_DEFAULT=86400

# Default memory partition
MEMORY_PARTITION_DEFAULT=default

# ============================================================================
# Development Settings
# ============================================================================

# Enable debug logging for Docker services
COMPOSE_DEBUG=false

# Docker containers log driver
COMPOSE_LOG_DRIVER=json-file

# Compose project name (used for container naming)
COMPOSE_PROJECT_NAME=lionagi-qe
